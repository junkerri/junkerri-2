---
export interface Props {
  title: string | string[];
  subtitle?: string;
  // Desktop min height (px)
  minHeight?: number;
  showOrbs?: boolean;
}

const { title, subtitle, minHeight = 300, showOrbs = true } = Astro.props as Props;
const lines = Array.isArray(title) ? title : [title];
---

<section class="relative overflow-hidden cosmic-universe-background flex items-center" style={`min-height: ${minHeight}px;`}>
  <!-- Cosmic Background & Effects -->
  <div class="cosmic-bg"></div>

  <div class="stars-container">
    <div class="stars stars-1"></div>
    <div class="stars stars-2"></div>
    <div class="stars stars-3"></div>
  </div>

  <div class="cosmic-nebulae">
    <div class="nebula nebula-1"></div>
    <div class="nebula nebula-2"></div>
    <div class="nebula nebula-3"></div>
  </div>

  <div class="cosmic-geometry">
    <div class="cosmic-cube cosmic-cube-1"></div>
    <div class="cosmic-pyramid cosmic-pyramid-1"></div>
    <div class="cosmic-sphere cosmic-sphere-1"></div>
    <div class="cosmic-cube cosmic-cube-2"></div>
    <div class="cosmic-pyramid cosmic-pyramid-2"></div>
    <div class="cosmic-sphere cosmic-sphere-2"></div>
    <div class="cosmic-asteroid"></div>
    <div class="cosmic-satellite"></div>
  </div>

  <div class="cosmic-dust">
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
    <div class="dust-particle"></div>
  </div>

  <div class="shooting-stars">
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
  </div>

  {showOrbs && (
    <>
      <div class="mandela-orb mandela-orb-1" style="position: absolute; top: 20%; left: 20%; width: 100px; height: 100px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-2" style="position: absolute; top: 60%; right: 20%; width: 150px; height: 150px; background: linear-gradient(135deg, #e500ff, #5e00ff, #00ffb1); border-radius: 50%; box-shadow: 0 0 20px rgba(229, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-3" style="position: absolute; bottom: 20%; left: 60%; width: 80px; height: 80px; background: linear-gradient(135deg, #5e00ff, #00ffb1, #e500ff); border-radius: 50%; box-shadow: 0 0 20px rgba(94, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-4" style="position: absolute; top: 40%; left: 50%; width: 120px; height: 120px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
    </>
  )}

  <div class="absolute inset-0 bg-gradient-to-br from-cyberpunk-cyan/10 via-cyberpunk-pink/15 to-cyberpunk-purple/20"></div>

  <div class="container relative z-10">
    <div class="max-w-4xl mx-auto text-center space-y-4">
      <h1 class="cosmic-title text-2xl sm:text-3xl md:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-wider leading-tight">
        {lines.map((line, lineIdx) => (
          <div class={`flex justify-center ${lineIdx > 0 ? 'mt-2' : ''}`}>
            {Array.from(line).map((ch, i) => (
              <span class="inline-block animate-cosmic-letter-float" style={`animation-delay: ${i * 0.1}s;`}>{ch}</span>
            ))}
          </div>
        ))}
      </h1>
      {subtitle && (
        <p class="text-xl text-cyberpunk-pink/90 max-w-2xl mx-auto animate-fade-in" style="animation-delay: 1.2s;">{subtitle}</p>
      )}
    </div>
  </div>
</section>


