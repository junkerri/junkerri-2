---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Image } from 'astro:assets';
import pulseCoop from '../assets/photos/pulse-coop.jpg';
import beatkerri from '../assets/photos/beatkerri.jpg';
import personalWebsitePortfolio from '../assets/photos/personal-website-portfolio.jpg';

// Web projects data
const projects = [
  {
    id: 1,
    title: "Pulse COOP",
    description: "A worker-owned tech cooperative website for creatives, musicians, and web technologists based in Austin, TX. Features democratic decision-making, community empowerment, and sustainable practices.",
    tech: ["Astro", "React", "Tailwind CSS", "TypeScript", "Vercel"],
    image: pulseCoop,
    liveUrl: "https://pulse.coop",
    githubUrl: "https://github.com/junkerri/pulse-coop",
    category: "Business Web App",
    featured: true
  },
  {
    id: 2,
    title: "Beatkerri",
    description: "A 16-step digital sequencer and beat-making web application that doubles as a daily puzzle web app game. Features challenge mode, jam mode, and daily beat challenges with an intuitive interface. Users can create, share, and download their beats as WAV and MIDI files. Built with Tone.js for high-quality audio synthesis and Web Audio API for real-time processing.",
    tech: ["TypeScript", "React", "Tone.js", "Web Audio API", "Canvas API", "Vercel"],
    image: beatkerri,
    liveUrl: "https://www.beatkerri.com/",
    githubUrl: "https://github.com/junkerri/beatkerri",
    category: "Creative Web App"
  },
  {
    id: 3,
    title: "Junkerri Portfolio",
    description: "A comprehensive multidisciplinary artist and musician portfolio website built with Astro, featuring music releases, art gallery, web projects, and creative work. Includes dark cyberpunk aesthetic, cosmic animations, responsive design, content collections for blog posts, Stripe integration for the shop, contact forms, and a fully functional e-commerce experience.",
    tech: ["Astro", "React", "Tailwind CSS", "TypeScript", "Stripe", "Vercel"],
    image: personalWebsitePortfolio,
    liveUrl: "https://junkerri-2.vercel.app/",
    githubUrl: "https://github.com/junkerri/junkerri-2",
    category: "Personal Portfolio"
  }
];

const categories = ["All", "Creative Web App", "Business Web App", "Personal Portfolio"];
const featuredProject = projects.find(p => p.featured) || projects[0];
---

<BaseLayout title="Web Projects - Junkerri" description="Interactive web projects and creative coding experiments">
  <Header />
  
  <main class="web-projects-page min-h-screen">
    <!-- Hero Section -->
    <section class="py-12 relative overflow-hidden cosmic-universe-background">
      <!-- Cosmic Background -->
      <div class="cosmic-bg"></div>
      
      <!-- Stars Layer -->
      <div class="stars-container">
        <div class="stars stars-1"></div>
        <div class="stars stars-2"></div>
        <div class="stars stars-3"></div>
      </div>
      
      <!-- Nebulae and Cosmic Clouds -->
      <div class="cosmic-nebulae">
        <div class="nebula nebula-1"></div>
        <div class="nebula nebula-2"></div>
        <div class="nebula nebula-3"></div>
      </div>
      
      <!-- Floating Space Geometry -->
      <div class="cosmic-geometry">
        <div class="cosmic-cube cosmic-cube-1"></div>
        <div class="cosmic-pyramid cosmic-pyramid-1"></div>
        <div class="cosmic-sphere cosmic-sphere-1"></div>
        <div class="cosmic-cube cosmic-cube-2"></div>
        <div class="cosmic-pyramid cosmic-pyramid-2"></div>
        <div class="cosmic-sphere cosmic-sphere-2"></div>
        <div class="cosmic-asteroid"></div>
        <div class="cosmic-satellite"></div>
        
        <!-- Additional geometric elements for more visual impact -->
        <div class="cosmic-cube" style="top: 25%; left: 15%; transform: rotate(60deg) scale(0.8); animation-delay: 2s;"></div>
        <div class="cosmic-pyramid" style="top: 75%; right: 25%; transform: scale(0.6); animation-delay: 1.5s;"></div>
        <div class="cosmic-sphere" style="top: 45%; left: 75%; transform: scale(0.7); animation-delay: 2.5s;"></div>
        <div class="cosmic-cube" style="bottom: 30%; right: 10%; transform: rotate(30deg) scale(0.5); animation-delay: 1s;"></div>
      </div>
      
      <!-- Cosmic Dust Particles -->
      <div class="cosmic-dust">
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
      </div>
      
      <!-- Shooting Stars -->
      <div class="shooting-stars">
        <div class="shooting-star"></div>
        <div class="shooting-star"></div>
        <div class="shooting-star"></div>
      </div>
      
      <!-- Mandela Art Circles -->
      <div class="mandela-orb mandela-orb-1" style="position: absolute; top: 20%; left: 20%; width: 100px; height: 100px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-2" style="position: absolute; top: 60%; right: 20%; width: 150px; height: 150px; background: linear-gradient(135deg, #e500ff, #5e00ff, #00ffb1); border-radius: 50%; box-shadow: 0 0 20px rgba(229, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-3" style="position: absolute; bottom: 20%; left: 60%; width: 80px; height: 80px; background: linear-gradient(135deg, #5e00ff, #00ffb1, #e500ff); border-radius: 50%; box-shadow: 0 0 20px rgba(94, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-4" style="position: absolute; top: 40%; left: 50%; width: 120px; height: 120px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
      
      <div class="absolute inset-0 bg-gradient-to-br from-cyberpunk-cyan/10 via-cyberpunk-pink/15 to-cyberpunk-purple/20"></div>
      <div class="container relative z-10">
        <div class="text-center space-y-6">
          <h1 class="cosmic-title text-2xl sm:text-3xl md:text-5xl lg:text-6xl font-bold tracking-wider leading-tight">
            <div class="flex flex-col items-center">
              <div class="flex justify-center">
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0s;">W</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.1s;">E</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.2s;">B</span>
              </div>
              <div class="flex justify-center mt-2">
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.4s;">P</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.5s;">R</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.6s;">O</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.7s;">J</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.8s;">E</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 0.9s;">C</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 1.0s;">T</span>
                <span class="inline-block animate-cosmic-letter-float" style="animation-delay: 1.1s;">S</span>
              </div>
            </div>
          </h1>
        </div>
      </div>
    </section>

    <!-- Project Categories -->
    <section class="py-8">
      <div class="container">
        <div class="flex flex-wrap gap-4 justify-center">
          {categories.map((category) => (
            <button 
              class="category-filter px-6 py-2 rounded-full border border-input bg-background text-foreground text-sm font-medium transition-colors hover:!bg-primary hover:!text-black hover:!border-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
              data-category={category}
            >
              {category}
            </button>
          ))}
        </div>
      </div>
    </section>

    <!-- Projects Grid -->
    <section class="py-16">
      <div class="container">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {projects.map((project) => (
            <div class="card group" data-category={project.category}>
              <div class="aspect-video overflow-hidden rounded-t-lg">
                <Image 
                  src={project.image} 
                  alt={project.title}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                  width={400}
                  height={225}
                />
              </div>
              <div class="card-content">
                <div class="flex items-center justify-between mb-2">
                  <span class="badge badge-outline">
                    {project.category}
                  </span>
                </div>
                <h3 class="text-xl font-semibold mb-2">{project.title}</h3>
                <p class="text-muted-foreground mb-4">{project.description}</p>
                
                <div class="flex flex-wrap gap-2 mb-4">
                  {project.tech.map((tech) => (
                    <span class="badge badge-secondary">
                      {tech}
                    </span>
                  ))}
                </div>
                
                <div class="flex gap-2">
                  <a 
                    href={project.liveUrl} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="btn btn-primary btn-sm"
                  >
                    Live Demo
                  </a>
                  <a 
                    href={project.githubUrl} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    class="btn btn-outline btn-sm"
                  >
                    GitHub
                  </a>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Featured Project -->
    <section class="py-16 bg-muted/30">
      <div class="container">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold mb-4">Featured Project</h2>
          <p class="text-muted-foreground max-w-2xl mx-auto">Latest collaborative work</p>
        </div>

        <div class="max-w-6xl mx-auto">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="space-y-6">
              <div>
                <span class="badge badge-outline mb-3">
                  {featuredProject.category}
                </span>
                <h3 class="text-3xl font-bold mb-4">{featuredProject.title}</h3>
                <p class="text-lg text-muted-foreground mb-6">{featuredProject.description}</p>
              </div>
              
              <div class="flex flex-wrap gap-2 mb-6">
                {featuredProject.tech.map((tech) => (
                  <span class="badge badge-secondary">
                    {tech}
                  </span>
                ))}
              </div>
              
              <div class="flex gap-4">
                <a 
                  href={featuredProject.liveUrl} 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="btn btn-primary btn-lg"
                >
                  Visit Site
                </a>
                <a 
                  href={featuredProject.githubUrl} 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="btn btn-outline btn-lg"
                >
                  View Code
                </a>
              </div>
            </div>
            
            <div class="aspect-video overflow-hidden rounded-2xl bg-muted">
              <Image 
                src={featuredProject.image} 
                alt={featuredProject.title}
                class="w-full h-full object-cover"
                width={600}
                height={338}
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-primary text-primary-foreground">
      <div class="container text-center">
        <h2 class="text-3xl font-bold mb-4">Interested in Collaboration?</h2>
        <p class="text-xl mb-8 max-w-2xl mx-auto opacity-90">
          Let's create something amazing together
        </p>
        <a href="/contact" class="btn btn-secondary btn-lg">
          Get in Touch
        </a>
      </div>
    </section>
  </main>

  <Footer />

  <script>
    // Filter functionality
    const filterButtons = document.querySelectorAll('[data-category]');
    const projectItems = document.querySelectorAll('.card[data-category]'); // Only select project cards, not filter buttons

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.getAttribute('data-category') || '';
        
        // Update active button
        filterButtons.forEach(btn => {
          if (btn instanceof HTMLElement) {
            btn.classList.remove('bg-primary', 'text-primary-foreground');
            btn.classList.add('btn-outline');
          }
        });
        if (button instanceof HTMLElement) {
          button.classList.remove('btn-outline');
          button.classList.add('bg-primary', 'text-primary-foreground');
        }
        
        // Filter projects
        projectItems.forEach(item => {
          if (item instanceof HTMLElement) {
            const itemCategory = item.getAttribute('data-category') || '';
            if (category === 'All' || itemCategory === category) {
              item.style.display = 'block';
            } else {
              item.style.display = 'none';
            }
          }
        });
      });
    });

    // Set initial active state
    const allButton = document.querySelector('[data-category="All"]');
    if (allButton instanceof HTMLElement) {
      allButton.classList.remove('btn-outline');
      allButton.classList.add('bg-primary', 'text-primary-foreground');
    }
  </script>
</BaseLayout>
