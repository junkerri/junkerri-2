---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { Image } from 'astro:assets';
import unearthlyDelights from '../assets/album art/unearthly-delights.jpg';
---

<BaseLayout 
  title="Unearthly Delights - Junkerri"
  description="Experience the impossible geometry and dreamlike atmosphere of Junkerri's upcoming album Unearthly Delights. Immerse yourself in experimental soundscapes and creative exploration."
  image="/assets/album art/unearthly-delights.jpg"
  type="music.album"
  tags={['unearthly delights', 'album', 'music', 'junkerri', 'experimental', 'ambient', 'electronic']}
>
  <Header />
  
  <main class="min-h-screen overflow-hidden">
    <!-- Hero Section with Impossible Geometry -->
    <section class="hero-section py-12 relative overflow-hidden monument-valley-hero cosmic-universe-background">
      <!-- Cosmic Background -->
      <div class="cosmic-bg"></div>
      
      <!-- Stars Layer -->
      <div class="stars-container">
        <div class="stars stars-1"></div>
        <div class="stars stars-2"></div>
        <div class="stars stars-3"></div>
      </div>
      
      <!-- Nebulae and Cosmic Clouds -->
      <div class="cosmic-nebulae">
        <div class="nebula nebula-1"></div>
        <div class="nebula nebula-2"></div>
        <div class="nebula nebula-3"></div>
      </div>
      
      <!-- Floating Space Geometry -->
      <div class="cosmic-geometry">
        <div class="cosmic-cube cosmic-cube-1"></div>
        <div class="cosmic-pyramid cosmic-pyramid-1"></div>
        <div class="cosmic-sphere cosmic-sphere-1"></div>
        <div class="cosmic-cube cosmic-cube-2"></div>
        <div class="cosmic-pyramid cosmic-pyramid-2"></div>
        <div class="cosmic-sphere cosmic-sphere-2"></div>
        <div class="cosmic-asteroid"></div>
        <div class="cosmic-satellite"></div>
      </div>
      
      <!-- Cosmic Dust Particles -->
      <div class="cosmic-dust">
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
        <div class="dust-particle"></div>
      </div>
      
      <!-- Shooting Stars -->
      <div class="shooting-stars">
        <div class="shooting-star"></div>
        <div class="shooting-star"></div>
        <div class="shooting-star"></div>
      </div>
      
      <!-- Mandela Art Circles -->
      <div class="mandela-orb mandela-orb-1" style="position: absolute; top: 20%; left: 20%; width: 100px; height: 100px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-2" style="position: absolute; top: 60%; right: 20%; width: 150px; height: 150px; background: linear-gradient(135deg, #e500ff, #5e00ff, #00ffb1); border-radius: 50%; box-shadow: 0 0 20px rgba(229, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-3" style="position: absolute; bottom: 20%; left: 60%; width: 80px; height: 80px; background: linear-gradient(135deg, #5e00ff, #00ffb1, #e500ff); border-radius: 50%; box-shadow: 0 0 20px rgba(94, 0, 255, 0.5); z-index: 5;"></div>
      <div class="mandela-orb mandela-orb-4" style="position: absolute; top: 40%; left: 50%; width: 120px; height: 120px; background: linear-gradient(135deg, #00ffb1, #e500ff, #5e00ff); border-radius: 50%; box-shadow: 0 0 20px rgba(0, 255, 177, 0.5); z-index: 5;"></div>
      
      <!-- Floating geometric shapes -->
      <div class="floating-geometry">
        <div class="geometry-cube geometry-cube-1"></div>
        <div class="geometry-cube geometry-cube-2"></div>
        <div class="geometry-cube geometry-cube-3"></div>
        <div class="geometry-pyramid geometry-pyramid-1"></div>
        <div class="geometry-pyramid geometry-pyramid-2"></div>
        <div class="geometry-sphere geometry-sphere-1"></div>
        <div class="geometry-sphere geometry-sphere-2"></div>
      </div>
      
      <!-- Impossible staircase -->
      <div class="impossible-staircase">
        <div class="stair stair-1"></div>
        <div class="stair stair-2"></div>
        <div class="stair stair-3"></div>
        <div class="stair stair-4"></div>
        <div class="stair stair-5"></div>
      </div>
      
      <div class="container relative z-10">
        <div class="text-center space-y-8">
          <h1 class="hero-title monument-title">
            <span>U</span>
            <span>N</span>
            <span>E</span>
            <span>A</span>
            <span>R</span>
            <span>T</span>
            <span>H</span>
            <span>L</span>
            <span>Y</span>
            <br class="hidden sm:block">
            <span>D</span>
            <span>E</span>
            <span>L</span>
            <span>I</span>
            <span>G</span>
            <span>H</span>
            <span>T</span>
            <span>S</span>
          </h1>
          <p class="text-xl text-cyberpunk-cyan/90 max-w-3xl mx-auto animate-fade-in" style="animation-delay: 1.5s;">
            An immersive journey through impossible geometry and dreamlike soundscapes
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center animate-fade-in" style="animation-delay: 2s;">
            <button class="btn btn-primary btn-lg glow-cyberpunk-cyan hover:scale-105 transition-all duration-300 bg-cyberpunk-cyan hover:bg-cyberpunk-pink text-black font-semibold" id="preview-btn">
              Preview Album
            </button>
            <button class="btn btn-outline btn-lg border-2 border-cyberpunk-pink text-cyberpunk-pink hover:bg-cyberpunk-pink hover:text-black transition-all duration-300 font-semibold" id="explore-btn">
              Explore Geometry
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Geometry Section -->
    <section class="py-16 bg-gradient-to-br from-cyberpunk-cyan/10 to-cyberpunk-pink/10">
      <div class="container">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold mb-4 text-cyberpunk-cyan">Impossible Architecture</h2>
          <p class="text-cyberpunk-pink/80 max-w-2xl mx-auto">
            Navigate through structures that defy the laws of physics, just like the music defies conventional boundaries.
          </p>
        </div>
        
        <div class="geometry-playground relative h-96 mb-12">
          <div class="perspective-container">
            <div class="rotating-cube" id="main-cube">
              <div class="cube-face cube-front"></div>
              <div class="cube-face cube-back"></div>
              <div class="cube-face cube-right"></div>
              <div class="cube-face cube-left"></div>
              <div class="cube-face cube-top"></div>
              <div class="cube-face cube-bottom"></div>
            </div>
            
            <div class="floating-platforms">
              <div class="platform platform-1"></div>
              <div class="platform platform-2"></div>
              <div class="platform platform-3"></div>
            </div>
          </div>
        </div>
        
        <div class="text-center">
          <p class="text-muted-foreground">Click and drag to explore the impossible geometry</p>
        </div>
      </div>
    </section>

    <!-- Album Preview Section -->
    <section class="py-16 bg-gradient-to-br from-cyberpunk-purple/20 to-cyberpunk-dark-purple/30">
      <div class="container">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          <div class="space-y-6">
            <h2 class="text-3xl font-bold text-cyberpunk-cyan">The Sound of Impossible Spaces</h2>
            <p class="text-lg text-muted-foreground">
              Each track is crafted to transport you through impossible geometries, where sound becomes architecture and music becomes a journey through the unearthly.
            </p>
            <div class="space-y-4">
              <div class="track-preview">
                <h3 class="text-xl font-semibold text-cyberpunk-pink">1. Geometric Dreams</h3>
                <p class="text-muted-foreground">Ambient textures that shift perspective like impossible staircases</p>
              </div>
              <div class="track-preview">
                <h3 class="text-xl font-semibold text-cyberpunk-pink">2. Escher's Echo</h3>
                <p class="text-muted-foreground">Rhythmic patterns that loop infinitely, never quite the same</p>
              </div>
              <div class="track-preview">
                <h3 class="text-xl font-semibold text-cyberpunk-pink">3. Monument Valley</h3>
                <p class="text-muted-foreground">The title track - a journey through impossible architecture</p>
              </div>
            </div>
            <button class="btn btn-primary btn-lg bg-cyberpunk-pink hover:bg-cyberpunk-cyan text-black font-semibold">
              Pre-order Album
            </button>
          </div>
          
          <div class="relative">
            <div class="album-cover-container">
              <Image 
                src={unearthlyDelights}
                alt="Unearthly Delights album cover" 
                class="w-full h-auto rounded-lg shadow-2xl hover:scale-105 transition-transform duration-500"
                width={500}
                height={500}
              />
              <div class="album-glow"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Experience Section -->
    <section class="py-16 bg-gradient-to-br from-cyberpunk-black to-cyberpunk-dark-purple">
      <div class="container">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold mb-4 text-cyberpunk-cyan">Interactive Experience</h2>
          <p class="text-cyberpunk-pink/80 max-w-2xl mx-auto">
            Experience the album through an interactive web journey that mirrors the impossible geometry of the music.
          </p>
        </div>
        
        <div class="interactive-grid grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="interactive-card" data-geometry="cube">
            <div class="card-icon cube-icon"></div>
            <h3 class="text-xl font-semibold text-cyberpunk-cyan">Impossible Cubes</h3>
            <p class="text-muted-foreground">Click to rotate through impossible perspectives</p>
          </div>
          
          <div class="interactive-card" data-geometry="staircase">
            <div class="card-icon staircase-icon"></div>
            <h3 class="text-xl font-semibold text-cyberpunk-cyan">Infinite Stairs</h3>
            <p class="text-muted-foreground">Navigate through endless geometric loops</p>
          </div>
          
          <div class="interactive-card" data-geometry="platforms">
            <div class="card-icon platforms-icon"></div>
            <h3 class="text-xl font-semibold text-cyberpunk-cyan">Floating Platforms</h3>
            <p class="text-muted-foreground">Discover hidden connections between spaces</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Newsletter Signup -->
    <section class="py-16 bg-gradient-to-br from-cyberpunk-cyan/20 to-cyberpunk-pink/20">
      <div class="container">
        <div class="max-w-2xl mx-auto text-center space-y-8">
          <div class="space-y-4">
            <h2 class="text-3xl font-bold text-cyberpunk-cyan">Stay Updated</h2>
            <p class="text-lg text-muted-foreground">
              Be the first to experience Unearthly Delights when it releases. Get exclusive previews and behind-the-scenes content.
            </p>
          </div>
          
          <form id="album-notify-form" class="space-y-4">
            <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
              <input 
                type="email" 
                id="album-email" 
                name="email" 
                placeholder="Enter your email address"
                required
                class="flex-1 px-4 py-3 rounded-lg text-black placeholder:text-gray-600 focus:outline-none focus:ring-2 focus:ring-cyberpunk-cyan/50"
              />
              <button 
                type="submit"
                class="px-6 py-3 bg-cyberpunk-pink text-black font-semibold rounded-lg hover:bg-cyberpunk-cyan transition-colors focus:outline-none focus:ring-2 focus:ring-cyberpunk-pink/50"
              >
                Notify Me
              </button>
            </div>
            <p class="text-sm text-muted-foreground">
              No spam, just updates about the album release and exclusive content.
            </p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <Footer />

  <script>
    // Interactive geometry controls
    let isDragging = false;
    let startX: number, startY: number;
    let rotationX = 0;
    let rotationY = 0;
    
    const mainCube = document.getElementById('main-cube') as HTMLElement;
    const geometryPlayground = document.querySelector('.geometry-playground') as HTMLElement;
    
    if (mainCube && geometryPlayground) {
      // Mouse controls for cube rotation
      geometryPlayground.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        geometryPlayground.style.cursor = 'grabbing';
      });
      
      document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        
        const deltaX = e.clientX - startX;
        const deltaY = e.clientY - startY;
        
        rotationY += deltaX * 0.5;
        rotationX -= deltaY * 0.5;
        
        mainCube.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
        
        startX = e.clientX;
        startY = e.clientY;
      });
      
      document.addEventListener('mouseup', () => {
        isDragging = false;
        geometryPlayground.style.cursor = 'grab';
      });
    }
    
    // Interactive card effects
    const interactiveCards = document.querySelectorAll('.interactive-card');
    
    interactiveCards.forEach(card => {
      const cardElement = card as HTMLElement;
      
      cardElement.addEventListener('click', () => {
        const geometryType = cardElement.dataset.geometry;
        if (geometryType) {
          activateGeometry(geometryType);
        }
      });
      
      cardElement.addEventListener('mouseenter', () => {
        cardElement.style.transform = 'translateY(-8px) scale(1.02)';
      });
      
      cardElement.addEventListener('mouseleave', () => {
        cardElement.style.transform = 'translateY(0) scale(1)';
      });
    });
    
    function activateGeometry(type: string) {
      // Add visual feedback for different geometry types
      const cube = document.querySelector('.rotating-cube') as HTMLElement;
      const platforms = document.querySelectorAll('.platform');
      
      if (cube) {
        switch(type) {
          case 'cube':
            cube.style.animation = 'rotate 3s ease-in-out';
            setTimeout(() => cube.style.animation = '', 3000);
            break;
          case 'staircase':
            document.querySelectorAll('.stair').forEach(stair => {
              const stairElement = stair as HTMLElement;
              stairElement.style.animation = 'float 2s ease-in-out';
              setTimeout(() => stairElement.style.animation = '', 2000);
            });
            break;
          case 'platforms':
            platforms.forEach((platform, index) => {
              const platformElement = platform as HTMLElement;
              platformElement.style.animation = `float ${1.5 + index * 0.5}s ease-in-out`;
              setTimeout(() => platformElement.style.animation = '', 2000);
            });
            break;
        }
      }
    }
    
    // Preview button functionality
    const previewBtn = document.getElementById('preview-btn');
    if (previewBtn) {
      previewBtn.addEventListener('click', () => {
        // Simulate album preview
        alert('Album preview coming soon! This will play snippets of each track.');
      });
    }
    
    // Explore button functionality
    const exploreBtn = document.getElementById('explore-btn');
    if (exploreBtn) {
      exploreBtn.addEventListener('click', () => {
        // Scroll to geometry section
        const geometrySection = document.querySelector('.geometry-playground');
        if (geometrySection) {
          geometrySection.scrollIntoView({ 
            behavior: 'smooth' 
          });
        }
      });
    }
    
    // Newsletter form handling
    const albumForm = document.getElementById('album-notify-form') as HTMLFormElement;
    if (albumForm) {
      albumForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const formData = new FormData(albumForm);
        const email = formData.get('email');
        
        try {
          // Send email using Formspree
          const formspreeFormId = import.meta.env.FORMSPREE_NEWSLETTER_FORM_ID;
          const contactEmail = import.meta.env.CONTACT_EMAIL;
          
          if (!formspreeFormId) {
            throw new Error('Formspree form not configured');
          }
          
          const response = await fetch(`https://formspree.io/f/${formspreeFormId}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              email: email,
              _replyto: contactEmail || 'contact@junkerri.com',
              _subject: `Unearthly Delights album notification signup: ${email}`,
              message: `New album notification signup from ${email} for Unearthly Delights`
            })
          });
          
          if (response.ok) {
            alert('Thank you for signing up! You\'ll be notified when Unearthly Delights releases.');
            albumForm.reset();
          } else {
            throw new Error('Failed to sign up');
          }
        } catch (error) {
          console.error('Form submission error:', error);
          alert(`Sorry, there was an error signing you up. Please try again or email me directly at ${import.meta.env.CONTACT_EMAIL || 'contact@junkerri.com'}`);
        }
      });
    }
  </script>
</BaseLayout>
